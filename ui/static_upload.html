
<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Unified Neural Pipeline - Upload Demo</title>
  </head>
  <body>
    <h1>Unified Neural Pipeline - Minimal Upload Demo</h1>
    <form id="uploadForm">
      <label>Mixture audio (wav):</label><br/>
      <input type="file" id="mixture" accept="audio/*"><br/><br/>
      <label>Target sample (wav):</label><br/>
      <input type="file" id="target" accept="audio/*"><br/><br/>
      <button type="button" onclick="submit()">Process</button>
    </form>
    <pre id="out"></pre>

    <script>
      async function submit(){
        const mix = document.getElementById('mixture').files[0];
        const target = document.getElementById('target').files[0];
        if(!mix || !target){ alert('Choose files'); return;}
        const fd = new FormData();
        fd.append('mixture', mix);
        fd.append('target', target);
        const res = await fetch('http://localhost:8000/process', {method: 'POST', body: fd});
        const json = await res.json();
        document.getElementById('out').textContent = JSON.stringify(json, null, 2);
      }
    </script>
  </body>
</html>
